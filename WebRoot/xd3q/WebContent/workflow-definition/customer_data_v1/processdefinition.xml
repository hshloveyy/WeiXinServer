<?xml version="1.0" encoding="UTF-8"?>

<process-definition  xmlns=""  name="customer_data_v1">


	<start-state name="客户主数据维护申请">
		<transition to="部门确认"></transition>
	</start-state>


	<decision name="部门及业务判断">
		<handler config-type="bean" class="com.infolion.sapss.workflow.mainData.GuestDeptBizDecisionHandler"></handler>
		<transition to="贸管专员审核" name="业务类型客户"></transition>
		<transition to="综合一部审核" name="物流类型客户"></transition>
	</decision>

	<task-node name="贸管专员审核">
	    <task name="贸管专员审核"></task>
	    <transition to="是否更新年检年度" name="同意修改"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<node name="更新为有效">
		<action class="com.infolion.sapss.workflow.mainData.GuestSuccessActionHandler" config-type="bean"></action>	
		<transition to="结束（有效）"></transition>
	</node>
	<task-node name="信息中心维护">
	    <task name="信息中心维护"></task>
	    <transition to="更新为有效" name="已维护"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="修改">
	    <task name="修改"></task>
		<transition to="部门确认" name="已修改，提交"></transition>
		<transition to="更新为无效" name="作废该申请"></transition>
	</task-node>

	<node name="更新为无效">
		<action class="com.infolion.sapss.workflow.mainData.GuestFailureActionHandler" config-type="bean"></action>	
		<transition to="结束（无效）"></transition>
	</node>

	<task-node name="综合一部审核">
	    <task name="综合一部审核"></task>
	    <transition to="是否更新年检年度" name="确认"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="财务会计审核">
	    <task name="财务会计审核"></task>
		<transition to="信息中心维护" name="确认"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<decision name="是否更新年检年度">
	    <handler config-type="bean" class="com.infolion.sapss.workflow.mainData.GuestYearCheckDecisionHandler"></handler>
		<transition to="财务会计审核" name="否"></transition>
		<transition to="更新为有效" name="是"></transition>
	</decision>

	<task-node name="部门确认">
	    <task name="部门确认"></task>
		<transition to="部门及业务判断" name="确认"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>


	<end-state name="结束（有效）"></end-state>

	<end-state name="结束（无效）"></end-state>


</process-definition>