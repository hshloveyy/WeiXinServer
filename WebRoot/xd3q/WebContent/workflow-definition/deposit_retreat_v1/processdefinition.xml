<?xml version="1.0" encoding="UTF-8"?>

<process-definition  xmlns=""  name="deposit_retreat_v1">


	<start-state name="保证金退回申请">
		<transition to="部门经理或信达诺常务副总确认" name="确认提交"></transition>
	</start-state>


	<task-node name="部门经理或信达诺常务副总确认">
	    <task name="部门经理或信达诺常务副总确认"></task>
		<transition to="综合一部经理审核" name="确认提交"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="综合一部经理审核">
	    <task name="综合一部经理审核"></task>
		<transition to="外贸贸易发展部审核" name="提交财务部副经理审核"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="外贸贸易发展部审核">
	    <task name="外贸贸易发展部审核"></task>
		<transition to="资金部经理审核" name="提交资金部经理审批"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="修改">
	    <task name="修改"></task>
		<transition to="部门经理或信达诺常务副总确认" name="提交"></transition>
		<transition to="更新为审批不通过" name="作废申请"></transition>
	</task-node>

	<task-node name="股份公司副总审批">
	    <task name="股份公司副总审批"></task>
		<transition to="股份公司常务副总审批" name="提交股份公司常务副总审批"></transition>
		<transition to="修改" name="退回修改"></transition>
		<transition to="更新为审批不通过" name="不同意"></transition>
	</task-node>

	<task-node name="股份公司常务副总审批">
	    <task name="股份公司常务副总审批"></task>
		<transition to="股份公司总经理审批" name="同意"></transition>
		<transition to="更新为审批不通过" name="不同意"></transition>
	</task-node>

	<task-node name="股份公司总经理审批">
	    <task name="股份公司总经理审批"></task>
		<transition to="业务员确认审批通过" name="同意"></transition>
		<transition to="更新为审批不通过" name="不同意"></transition>
	</task-node>

	<task-node name="股份机要室确认">
	    <task name="股份机要室确认"></task>
		<transition to="账户判断" name="已盖章"></transition>
	</task-node>

	<decision name="账户判断">
	    <handler config-type="bean" class="com.infolion.sapss.workflow.depositRetreat.AccountDecisionHandler"></handler>
		<transition to="信达诺出纳确认" name="信达诺账户"></transition>
		<transition to="股份公司出纳确认" name="股份公司账户"></transition>
	</decision>

	<task-node name="信达诺出纳确认">
	    <task name="信达诺出纳确认"></task>
		<transition to="更新为审批通过" name="确认收到"></transition>
		<transition to="贸易发展部处理未到帐或数额不符" name="未收到或数额不符"></transition>
	</task-node>

	<task-node name="股份公司出纳确认">
	    <task name="股份公司出纳确认"></task>
		<transition to="更新为审批通过" name="确认收到"></transition>
		<transition to="贸易发展部处理未到帐或数额不符" name="未收到或数额不符"></transition>
	</task-node>

	<task-node name="业务员确认审批通过">
	    <task name="业务员确认审批通过"></task>
		<transition to="股份机要室确认" name="提交机要室盖章"></transition>
	</task-node>

	<task-node name="贸易发展部处理未到帐或数额不符">
	    <task name="贸易发展部处理未到帐或数额不符"></task>
		<transition to="账户判断" name="处理完成提交出纳确认"></transition>
	</task-node>

	<node name="更新为审批通过">
	    <action class="com.infolion.sapss.workflow.depositRetreat.ProcessChangeSucessfulActionHandler" config-type="bean"></action>
		<transition to="结束（通过）"></transition>
	</node>

	<node name="更新为审批不通过">
	    <action class="com.infolion.sapss.workflow.depositRetreat.ProcessChangeFailureActionHandler" config-type="bean"></action>
		<transition to="结束（不通过）"></transition>
	</node>

	<task-node name="资金部经理审核">
	    <task name="资金部经理审核"></task>
	    <transition to="股份公司副总审批" name="提交股份公司副总审批"></transition>
		<transition to="修改" name="退回修改"></transition>
</task-node>


	<end-state name="结束（通过）"></end-state>

	<end-state name="结束（不通过）"></end-state>


</process-definition>