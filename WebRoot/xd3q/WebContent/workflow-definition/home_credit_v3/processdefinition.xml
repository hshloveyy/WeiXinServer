<?xml version="1.0" encoding="UTF-8"?>

<process-definition xmlns="urn:jbpm.org:jpdl-3.2"  name="home_credit_v3">


	<start-state name="国内信用证付款申请">
		<transition to="部门经理确认" name="提交部门经理确认"></transition>
	</start-state>


	<task-node name="部门经理确认">
	    <task name="部门经理确认"></task>
		<transition to="财务会计审核" name="确认提交"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="财务会计审核">
	    <task name="财务会计审核"></task>
		<transition to="财务经理审核" name="提交财务经理审核"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="财务经理审核">
	    <task name="财务经理审核"></task>
		<transition to="信达安贸管经理审核" name="提交贸管审核"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="贸管审单员审核">
	    <task name="贸管审单员审核"></task>
		<transition to="贸管经理审核" name="提交贸管经理"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="贸管经理审核">
	    <task name="贸管经理审核"></task>
		<transition to="金额判断" name="同意办理"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="股份公司副总审批">
	    <task name="股份公司副总审批"></task>
		<transition to="信达安总经理审批" name="提交股份公司常务副总审批"></transition>
		<transition to="贸管经理审核" name="退回贸管经理审核"></transition>
		<transition to="更新状态为不通过" name="不同意办理"></transition>
	</task-node>

	<decision name="金额判断">
		<handler config-type="bean" class="com.infolion.sapss.workflow.payment.CreditPayPriceDecisionHandler"></handler>
		<transition to="股份公司副总审批" name="大于1400万CNY"></transition>
		<transition to="出纳确认" name="小于1400万CNY"></transition>
	</decision>

	<task-node name="信达安总经理审批">
	    <task name="信达安总经理审批"></task>
		<transition to="金额判断1" name="同意办理"></transition>
		<transition to="贸管经理审核" name="退回贸管经理审核"></transition>
		<transition to="更新状态为不通过" name="不同意办理"></transition>
	</task-node>

	<decision name="金额判断1">
		<handler config-type="bean" class="com.infolion.sapss.workflow.payment.CreditPayPrice1DecisionHandler"></handler>
		<transition to="信达安副董事长审批" name="大于3500万CNY"></transition>
		<transition to="出纳确认" name="小于3500万CNY"></transition>
	</decision>

	<task-node name="信达安副董事长审批">
	    <task name="信达安副董事长审批"></task>
		<transition to="金额判断2" name="同意办理"></transition>
		<transition to="贸管经理审核" name="退回贸管经理审核"></transition>
		<transition to="更新状态为不通过" name="不同意办理"></transition>
	</task-node>

	<decision name="金额判断2">
		<handler config-type="bean" class="com.infolion.sapss.workflow.payment.CreditPayPrice2DecisionHandler"></handler>
		<transition to="信达安董事长审批" name="大于7000万CNY"></transition>
		<transition to="出纳确认" name="小于7000万CNY"></transition>
	</decision>

	<task-node name="信达安董事长审批">
	    <task name="信达安董事长审批"></task>
		<transition to="出纳确认" name="同意办理"></transition>
		<transition to="贸管经理审核" name="退回贸管经理审核"></transition>
		<transition to="更新状态为不通过" name="不同意办理"></transition>
	</task-node>

	<task-node name="出纳确认">
	    <task name="出纳确认"></task>
		<transition to="机要室人员确认" name="提交机要室">
			<action class="com.infolion.sapss.workflow.payment.CreditPayTellerCheckActionHandler" config-type="bean"></action>
		</transition>
	</task-node>

	<task-node name="机要室人员确认">
	    <task name="机要室人员确认"></task>
		<transition to="确认并填写到期日" name="提交资金部"></transition>
	</task-node>

	<task-node name="确认并填写到期日">
	    <task name="确认并填写到期日"></task>
		<transition to="更新状态为办理完成" name="已办理完成"></transition>
	</task-node>

	<node name="更新状态为办理完成">
		<action class="com.infolion.sapss.workflow.payment.CreditPayProcessSuceessfulActionHandler" config-type="bean"></action>
		<transition to="国内信用证付款审批通过"></transition>
	</node>

	<node name="更新状态为不通过">
		<action class="com.infolion.sapss.workflow.payment.CreditPayProcessFailureActionHandler" config-type="bean"></action>
		<transition to="国内信用证付款审批不通过"></transition>
	</node>

	<task-node name="修改">
	    <task name="修改"></task>
		<transition to="部门经理确认" name="提交部门经理"></transition>
	</task-node>

	<task-node name="信达安贸管经理审核">
	    <task name="信达安贸管经理审核"></task>
		<transition to="信达安副总审核" name="提交信达安副总审核"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>

	<task-node name="信达安副总审核">
	    <task name="信达安副总审核"></task>
		<transition to="贸管审单员审核" name="提交贸管部审核"></transition>
		<transition to="修改" name="退回修改"></transition>
	</task-node>


	<end-state name="国内信用证付款审批通过"></end-state>

	<end-state name="国内信用证付款审批不通过"></end-state>


</process-definition>