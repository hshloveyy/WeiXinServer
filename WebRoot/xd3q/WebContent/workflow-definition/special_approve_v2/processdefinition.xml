<?xml version="1.0" encoding="UTF-8"?>

<process-definition  xmlns=""  name="special_approve_v2">


	<start-state name="特批流程">
		<transition to="部门经理确认"></transition>
	</start-state>


	<task-node name="股份公司审单员审核">
	    <task name="股份公司审单员审核"></task>
		<transition to="股份公司贸管经理审核" name="同意"></transition>
		<transition to="修改" name="不同意"></transition>
	</task-node>

	<task-node name="股份公司贸管经理审核">
	    <task name="股份公司贸管经理审核"></task>
		<transition to="修改" name="不同意"></transition>
		<transition to="股份公司副总" name="同意"></transition>
	</task-node>

	<task-node name="股份公司常务副总审核">
	    <task name="股份公司常务副总审核"></task>
		<transition to="金额判断" name="同意"></transition>
		<transition to="修改" name="不同意"></transition>
	</task-node>

	<task-node name="股份公司总经理审核">
	    <task name="股份公司总经理审核"></task>
		<transition to="金额判断1" name="同意"></transition>
		<transition to="修改" name="不同意"></transition>
	</task-node>

	<task-node name="股份公司董事长审核">
	    <task name="股份公司董事长审核"></task>
		<transition to="出纳付款" name="同意"></transition>
		<transition to="更新为特批不通过" name="不同意"></transition>
	</task-node>

	<task-node name="修改">
	    <task name="修改"></task>
	    <transition to="判断流程走向" name="再次提交"></transition>
		<transition to="更新为特批不通过" name="作废该申请"></transition>
	</task-node>

	<task-node name="部门经理确认">
	    <task name="部门经理确认"></task>
		<transition to="上海贸易公司常务副总审核" name="确认提交"></transition>
	</task-node>

	<node name="更新为特批通过">
		<action class="com.infolion.sapss.workflow.particular.handler.ParticularProcessSuccessActionHandler"></action>
		<transition to="结束（通过）"></transition>
	</node>

	<node name="更新为特批不通过">
		<action class="com.infolion.sapss.workflow.particular.handler.ParticularProcessFailureActionHandler"></action>
		<transition to="结束（不通过）"></transition>
	</node>

	<decision name="判断流程走向" >
		<handler config-type="bean"  class="com.infolion.sapss.workflow.particular.handler.NodeChoice2DecisionHandler"></handler>
		<transition to="股份公司贸管经理审核" name="审单员退回,提交贸管经理"></transition>
		<transition to="股份公司常务副总审核" name="由副总退回，提交股份公司常务副总"></transition>
		<transition to="股份公司总经理审核" name="由股份公司常务副总退回，提交股份总经理"></transition>
		<transition to="股份公司董事长审核" name="由总经理退回，提交董事长"></transition>
		<transition to="股份公司审单员审核" name="由上海副总退回，提交审单员"></transition>
		<transition to="股份公司副总" name="由贸管经理退回，提交股份公司副总"></transition>
	</decision>

	<task-node name="上海贸易公司常务副总审核">
		<transition to="修改" name="不同意"></transition>
		<transition to="股份公司审单员审核" name="同意"></transition>
	</task-node>

	<task-node name="股份公司副总">
	    <task name="股份公司副总"></task>
		<transition to="股份公司常务副总审核" name="同意"></transition>
		<transition to="修改" name="不同意"></transition>
	</task-node>

	<task-node name="出纳付款">
	    <task name="出纳付款"></task>
		<transition to="财务确认" name="提交财务"></transition>
	</task-node>

	<task-node name="财务确认">
	    <task name="财务确认"></task>
		<transition to="更新为特批通过" name="确认付款"></transition>
	</task-node>

	<decision name="金额判断">
		<handler config-type="bean"  class="com.infolion.sapss.workflow.particular.handler.AccountDecisionHandler"></handler>
		<transition to="出纳付款" name="金额小于100万美金或700万人民币"></transition>
		<transition to="股份公司总经理审核" name="金额大于100万美金或700万人民币"></transition>
	</decision>

	<decision name="金额判断1">
		<handler config-type="bean"  class="com.infolion.sapss.workflow.particular.handler.Account1DecisionHandler"></handler>
		<transition to="股份公司董事长审核" name="金额大于200万美金或1400万人民币"></transition>
		<transition to="出纳付款" name="金额小于200万美金或1400万人民币"></transition>
	</decision>


	<end-state name="结束（通过）"></end-state>

	<end-state name="结束（不通过）"></end-state>


</process-definition>