<?xml version="1.0" encoding="UTF-8"?>
<process-definition xmlns="urn:jbpm.org:jpdl-3.2"
	name="storage_protocol_modify_v1">
	<start-state name="仓储协议变更申请流程">
		<transition to="部门经理审批"></transition>
	</start-state>
	<task-node name="综合一部审批">
		<task name="综合一部审批"/>
		<transition to="综合部分管副总" name="同意"></transition>
		<transition to="业务修改" name="退回修改"></transition>
	</task-node>

	<task-node name="财务部审批">
		<task name="财务部审批"/>
		<transition to="分管领导审核" name="同意"></transition>
		<transition to="业务修改" name="退回修改"></transition>
	</task-node>

	<task-node name="贸管经理审批">
		<task name="贸管经理审批"/>
		<transition to="股份副总兼外贸公司总经理审批" name="同意"></transition>
		<transition to="业务修改" name="退回修改"></transition>
		<transition to="设置申请不通过" name="不同意"></transition>
	</task-node>

	<task-node name="股份副总兼外贸公司总经理审批">
		<task name="股份副总兼外贸公司总经理审批"/>
		<transition to="信息中心修改" name="同意"></transition>
		<transition to="业务修改" name="退回修改"></transition>
		<transition to="设置申请不通过" name="不同意通过"></transition>
	</task-node>

	<node name="设置申请不通过">
		<action class="com.infolion.sapss.workflow.storageProtocol.ChangeFailureActionHandler"></action>
		<transition to="申请不通过"></transition>
	</node>

	<node name="设置申请通过">
		<action class="com.infolion.sapss.workflow.storageProtocol.ChangeSuccessActionHandler"></action>
		<transition to="申请通过"></transition>
	</node>

	<task-node name="业务修改">
		<task name="业务修改"/>
		<transition to="部门经理审批" name="提交部门经理"></transition>
		<transition to="设置申请不通过" name="作废申请"></transition>
	</task-node>

	<task-node name="部门经理审批">
		<task name="部门经理审批"></task>
		<transition to="综合一部审批" name="同意"></transition>
		<transition to="业务修改" name="退回修改"></transition>
	</task-node>

	<task-node name="信息中心修改">
	    <task name="信息中心修改"></task>
		<transition to="设置申请通过" name="已修改"></transition>
	</task-node>

	<task-node name="分管领导审核">
	    <task name="分管领导审核"></task>
		<transition to="贸管专员审核" name="同意"></transition>
		<transition to="业务修改" name="退回修改"></transition>
	</task-node>

	<task-node name="综合部分管副总">
	    <task name="综合部分管副总"></task>
		<transition to="财务部审批" name="同意"></transition>
		<transition to="业务修改" name="退回"></transition>
	</task-node>

	<task-node name="贸管专员审核">
	    <task name="贸管专员审核"></task>
		<transition to="股份副总兼外贸公司总经理审批" name="确认提交"></transition>
		<transition to="贸管经理审批" name="提交贸管经理审核"></transition>
		<transition to="业务修改" name="退回修改"></transition>
	</task-node>
	<end-state name="申请通过"/>

	<end-state name="申请不通过"/>
</process-definition>