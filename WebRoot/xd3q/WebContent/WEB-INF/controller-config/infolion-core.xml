<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">
	<bean id="messageSource"
		class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basename" value="messages" />
	</bean>

	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.InternalResourceViewResolver">
		<property name="prefix">
			<value>/WEB-INF/jsp/</value>
		</property>
		<property name="suffix">
			<value>.jsp</value>
		</property>
	</bean>

	<!-- 系统异常统一处理类 -->
	<bean id="commonHandlerExceptionResolver"
		class="com.infolion.platform.core.web.CommonHandlerExceptionResolver" />
	<!-- 方法名解析处理器 -->
	<bean id="paramMethodResolver"
		class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
		<property name="paramName">
			<value>action</value>
		</property>
		<property name="defaultMethodName">
			<value>defaultMethod</value>
		</property>
	</bean>
	<!-- 信达 multi action controller 的基类 -->
	<bean id="baseMultiActionControllerXD"
		class="com.infolion.platform.core.web.BaseMultiActionController">
		<!-- 方法名解析处理器 -->
		<property name="methodNameResolver">
			<ref bean="paramMethodResolver" />
		</property>
		<property name="messageSource" ref="messageSource" />
		<!-- 表单校验开关 -->
		<property name="needValidated" value="true" />
	</bean>
		
	<!-- multi action controller 的基类 -->
	<bean id="baseMultiActionController"
		class="com.infolion.platform.dpframework.core.web.BaseMultiActionController">
		<!-- 方法名解析处理器 -->
		<property name="methodNameResolver">
			<ref bean="paramMethodResolver" />
		</property>
		<property name="messageSource" ref="messageSource" />
		<!-- 表单校验开关 -->
		<property name="needValidated" value="true" />
	</bean>
	<bean
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="order" value="1" />
		<property name="interceptors">
			<list>
				<bean
					class="com.infolion.platform.console.sys.LogonStateInterceptor" />
			</list>        
		</property>
		<property name="mappings">
			<props>
				<prop key="/treeDictionaryController.spr">treeDictionaryController</prop>
				<prop key="/attachementController.spr">attachementController</prop>
				<prop key="/dictionaryController.spr">dictionaryController</prop>
                <prop key="/queryConditionController.spr">queryConditionController</prop>
				<prop key="/gridQueryController.spr">gridQueryController</prop>
				<prop key="/treeController.spr">treeController</prop>
				<prop key="/relationshipController.spr">relationshipController</prop>
				<prop key="/searchHelpQueryController.spr">searchHelpQueryController</prop>
				<prop key="/excelTemplateController.spr">excelTemplateController</prop>
				<prop key="/chartQueryController.spr">chartQueryController</prop>
			</props>
		</property>
	</bean>
	<!--查询组件控制器-->
     <bean id="queryConditionController"
        class="com.infolion.platform.dpframework.uicomponent.queryCondition.web.QueryConditionController"     
        parent="baseMultiActionController" /> 
	<!--树状字典表控制器-->
	<bean id="treeDictionaryController"
		class="com.infolion.platform.dpframework.uicomponent.dictionary.TreeDictionaryTagController"
		parent="baseMultiActionController" />
		
	<!--业务附件控制器-->
    <bean id="attachementController"
		class="com.infolion.platform.dpframework.uicomponent.attachement.web.AttachementController"
		parent="baseMultiActionController"  init-method="init"/>

	<!--字典表控制器-->
    <bean id="dictionaryController"
		class="com.infolion.platform.dpframework.uicomponent.dictionary.web.DictionaryController"
		parent="baseMultiActionController" />
		
	<!--表格控制器-->
    <bean id="gridQueryController"
		class="com.infolion.platform.dpframework.uicomponent.grid.web.GridQueryController"
		parent="baseMultiActionController" />	
		
	<!--搜索帮助控制器-->
    <bean id="searchHelpQueryController"
		class="com.infolion.platform.dpframework.uicomponent.searchHelp.web.SearchHelpQueryController"
		parent="baseMultiActionController" />	
		
	<!-- 树组件控制器 -->	
	<bean id="treeController"
		class="com.infolion.platform.dpframework.uicomponent.tree.web.TreeController"
		parent="baseMultiActionController" />
	<!-- 关联业务对象组件控制器 -->
	<bean id="relationshipController"
		class="com.infolion.platform.dpframework.uicomponent.realtionship.web.RelationshipController"
		parent="baseMultiActionController" />
	<!-- excel模版控制器 -->
	<bean id="excelTemplateController"
		class="com.infolion.platform.dpframework.uicomponent.excelTemplate.web.ExcelTemplateController"
		parent="baseMultiActionController" />
	<!-- 图表控制器 -->
	<bean id="chartQueryController"
		class="com.infolion.platform.dpframework.uicomponent.chart.ChartQueryController"
		parent="baseMultiActionController" />
</beans>